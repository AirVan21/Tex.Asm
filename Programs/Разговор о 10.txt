[15:16:18] Alexey Kor: Здравствуйте! Разбираюсь сейчас с программой 10.asm (в ней мы делаем задержку). Возникли вопросы.
Во-первых, я бы хотел понять правильно ли я понимаю процесс.
1. Вначале мы подаем 0B4h - управляющее слово 10110100 - двоичный код; режим 2(генератор частоты); младший байт, затем старший(вид загрузки счетчика); канал 2. Это означает, что теперь мы можем при записи в счетчик второго канала - задать нужную нам частоту. Поскольку мы выбрали вид загрузки - "младший байт, затем старший", то необходимо дважды отправить по байту в счетчик (вначале младший байт, потом старший).
2. Мы отправили новую частоту в счетчик второго канала. Эта частота в сто раз медленнее исходной.
3. Мы решили пройти цикл в тысячу раз
4. В каждом шаге цикла мы посылаем управляющее слово 80h = 10000000 = двоичный код; режим 0(прерывание терминального счета), защелкивание (биты 0-3 безразличны), канал 2. Это даст нам возможность чтения значения счетчика "на лету" и считываем потом младший и старший байты значения счетчика. Каждый шаг цикла выполняется до тех пор, пока счетчик не даст значение -1 (то есть самое большое значение).
5. Цикл заканчивается
[21:19:30] Баклановский Максим: Добрый вечер!
[21:21:53] Баклановский Максим: п. 4 - не -1, а значение, большее последнего наблюдавшегося.
Например, подойдёт такая пара: 5,  FFFC (-4).
[21:43:50] Alexey Kor: Я не очень понимаю как система работает. То есть мы вот изначально взяли какое-то показание счетчика. Дальше счетчик уменьшается. И когда он достигнет нуля, то начинает снова по кругу, так?
[21:45:17] Баклановский Максим: Да.
[21:47:08] Alexey Kor: а с какого числа счетчик начинает? И правильно ли я понимаю, что частота тиков - 1193181, это то, сколько раз изменится счетчик в секунду?
[21:47:51] Баклановский Максим: Да. Начинает с того, которое мы загрузили.
[21:49:14] Alexey Kor: А где мы ему число загружаем?
[21:49:49] Баклановский Максим: Младшее, потом старшее.
[21:50:31] Alexey Kor: Так это же мы его частоту новую загружаем
[21:51:14] Баклановский Максим: Нет. Частота всегда 1193181. Это же кварц.
[21:54:02] Alexey Kor: То есть мы ему даем стартовое число 1193181/100. Он начинает с частотой 1193181 декрементов в секунду уменьшаться и поэтому начнет заново с исходного числа меньше чем за секунду. То есть мы наоборот ускорили все, нет?
[21:54:53] Баклановский Максим: Всё так, но про ускорение не понял.
[21:57:27] Alexey Kor: ок, сформулирую по другому. Есть ли какой-то особый смысл в том, что мы дали ему исходное число 1193181/100 и делаем цикл в 1000 шагов? Или мы просто решили экспериментально посмотреть сколько он времени потратит на то, чтобы тысячу раз посчитать число 1193181/100?
[21:58:49] Баклановский Максим: Только проба.
[22:01:06] Alexey Kor: ясно, тогда такой вопрос. Зачем мы запоминаем cx? (25 строчка) Мы же его нигде не портим вроде.
[22:05:01] Баклановский Максим: Когда я делал его сохранение, я ещё не знал, что не будем портить - это самое вероятное объяснение.
[22:06:10] Alexey Kor: ок, я просто думал, что может быть в этом тоже есть особенная причина)
