Friday, 4 April 2014
[23:04:44] Alexey Kor: Здравствуйте! Вот такой вопрос возник. Вот после работы программ 9, 9_1, 9_2 (не увидел такого в 9_3, но возможно мне просто невезет) появлется куча символов которые я набирал во время работы программы. Причем это не всегда происходит. По какому принципу иногда появляются, иногда нет я не понял. Можете объяснить данное явление?
[23:07:42] Alexey Kor: То есть мы вроде на паре говорили, что это происходит, потому что мы не вытягиваем символы из буфера, а после работы программы кто-то зовет 16 инт (в данном случае nc) и забирает из буфера все что мы набирали, но в таком случае почему это иногда происходит, а иногда нет?
[23:09:08] Alexey Kor: И если это так, то непонятно почему в 9_3 это не происходит.
Saturday, 5 April 2014
[00:50:48] Баклановский Максим: Добрый вечер!
[00:51:29] Баклановский Максим: Это совскем просто - в 9_3 мы не зовём старый обработчик (заканчиваем iret-ом).
[00:52:08] Alexey Kor: Хорошо, но почему если мы зовем старый обработчик, то происходит такая штука?
[00:54:32] Баклановский Максим: Он иногда что-то записывает в буфер, из которого потом инт 16 всё забирает.
[00:54:49] Alexey Kor: Иногда записывает, а иногда нет?
[00:55:03] Баклановский Максим: Конечно.
[00:55:28] Баклановский Максим: Не по всем сигналам от клавиатуры.
[01:03:58] Alexey Kor: Странно, я вот щас присмотрелся, он вроде всегда показывает буквы, но если их меньше определенного количества, то он их быстро затирает, если большего, то оставляет.
[01:05:49] Alexey Kor: Если меньше 15 букв, то они появляются и затираются, а начиная с пятнадцати, он печатает первые 15 набранных букв
[01:05:58] Баклановский Максим: Инт 16 достаёт всё, что было в буфере.
[01:06:20] Alexey Kor: А все что позже пятнадцатой буквы не печатает
[01:08:04] Баклановский Максим: Если в буфере оказался код клавиши Esc, то после его извлечения всё, что было набрано (извлечено из буфера) до этого, очищается - это уже логика работы с клавиатурой в nc и в dos-е.
[01:09:15] Баклановский Максим: У буфера (из которого читает инт 16) есть размер - похоже, что Вы его и обнаружили.
[01:10:33] Alexey Kor: Понял, спасибо!

